<!-- src/app/pages/apps/assessment-detail/assessment-detail.component.html -->

<mat-card class="assessment-card" *ngIf="assessment">
  <mat-card-header>
    <mat-card-title class="mat-h2">{{ assessment.name }}</mat-card-title>
    <mat-card-subtitle>
      Type : {{ assessment.type === 'normal' ? 'Normal' : 'Avant / Apr√®s' }}
    </mat-card-subtitle>
  </mat-card-header>
  <mat-divider></mat-divider>

  <form (ngSubmit)="onSubmit()">
    <ng-container *ngFor="let t of assessment.tasks; let i = index">
      <mat-card class="question-card">
        <mat-card-title>Q{{ i + 1 }}. {{ t.description }}</mat-card-title>
        <mat-card-content>
          <mat-radio-group
            [(ngModel)]="answers[t._id]"
            name="ans{{ i }}"
            class="options-group"
            disabled
          >
            <mat-radio-button
              *ngFor="let o of t.options"
              class="option"
              [value]="o.score"
            >
              {{ o.text }}
            </mat-radio-button>
          </mat-radio-group>
        </mat-card-content>
      </mat-card>
    </ng-container>

    <div class="submit-container">
      <button mat-raised-button color="primary" type="submit">
        Envoyer par email
      </button>
    </div>
  </form>
</mat-card>
